<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Online Closet</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link rel="stylesheet" type="text/css" href="stylesContact.css">

    <!-- Javascript files -->
    <script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<!-- descomentar en el futuro -->
<!-- <body onload="loadHome()"> -->
<body>


<!-- ======= Header ======= -->
<header>

    <nav id="navbar" class="navbar">
        <ul>
            <li><a class="nav-link active" href="http://localhost:8080/#">Home</a></li>
            <li><a class="nav-link" href="http://localhost:8080/#">About</a></li>
            <li><a class="nav-link" href="http://localhost:8080/#">Wardrobe</a></li>
            <li><a class="nav-link" href="http://localhost:8080/#">My outfits</a></li>
            <li><a class="nav-link" href="http://localhost:3238" >Contact us</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
    </nav>
    <!-- .navbar -->

</header>
<!-- End Header -->

<!-- en el main ir cargando las cosas, solo queda el nav arriba, tienen que quedar como dos secciones separadas -->
<main id="main">
    <div class="contact">
        <form action="#" class="form-contact">
            <div class="form-contact-container">
                <h2 class= "form-contact-title">Contact Us</h2>
                <input type= "text" id="name" class="form-contact-input" placeholder="Name">
                <input type= "text" class="form-contact-input" placeholder="Surname">
                <input type= "text" class="form-contact-input" placeholder="Phone">
                <input type= "email" id="email" class="form-contact-input" placeholder="Email">
                <input type= "text" id="" class="form-contact-input" placeholder="Subject">
                <textarea class="mensaje"  id="message" placeholder="Message:"></textarea>
                <input type= "submit" value= "Send" class="form-contact-input-send">
            </div>
        </form>
    </div>
</main>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
   // recoger datos del form
   const contactForm = document.querySelector('form-contact');
   const name = document.getElementById('name');
   const email = document.getElementById('email');
   const subject = document.getElementById('subject');
   const message = document.getElementById('message');
   contactForm.addEventListener('submit',(e)=>{
       e.preventDefault();
       let formData = {
        name: name.value,
        email: email.value,
        subject: subject.value,
        message: message.value
       }
       let xhr = new XMLHttpRequest();
       xhr.open('POST','/');
       xhr.setRequestHeader('content-type', 'application/json');
       xhr.onload = function(){
        console.log(xhr.responseText);
            if(xhr.responseText == 'sucess'){
                alert('email send');
                   name.value = "";
                   email.value =  "";
                   subject.value = "";
                   message.value = "";
            }else{
               alert('somethig went wrong');
            }
       }
       xhr.send(JSON.stringify(formData));
   })
</script>

</body>
</html>

